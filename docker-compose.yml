version: '3'

services:

  postgres:
    image: postgres
    env_file: .env
    restart: on-failure

  adminer:
    image: adminer
    ports:
      - 8080:8080
    depends_on:
      - postgres
    restart: on-failure

  ping:
    build: frontend/
    ports:
      - 80:80
    env_file: .env
    depends_on:
      - pong
    restart: on-failure

  pong:
    build: backend/
    env_file: .env
    depends_on:
      - postgres
    restart: on-failure
